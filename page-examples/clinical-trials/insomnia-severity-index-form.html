<section id=form_container__ID>
	<div id=header__ID>
		Insomnia Severity Index
	</div>
	<form id=F__ID>
		<div class="container">
			<div class="row row__ID">
                <div class="col-12 q__ID">1. Please rate the CURRENT (i.e. PAST WEEK) SEVERITY of your insomnia problem(s).</div>
                    <ul>
        				<div class="col-12 q__ID">a. Difficulty falling asleep</div>
        				<div class=col-12>
                            <ul>
            					<label class="form-check-label"><input type="radio" name="ISI_1a" value="0" required > None</label><br>
            					<label class="form-check-label"><input type="radio" name="ISI_1a" value="1"> Mild</label><br>
            					<label class="form-check-label"><input type="radio" name="ISI_1a" value="2"> Moderate</label><br>
                                <label class="form-check-label"><input type="radio" name="ISI_1a" value="3"> Severe</label><br>
                                <label class="form-check-label"><input type="radio" name="ISI_1a" value="4"> Very Severe</label><br>
                            </ul>
        				</div>
                        <div class="col-12 q__ID">b. Difficulty staying asleep</div>
        				<div class=col-12>
                            <ul>
            					<label class="form-check-label"><input type="radio" name="ISI_1b" value="0" required > None</label><br>
            					<label class="form-check-label"><input type="radio" name="ISI_1b" value="1"> Mild</label><br>
            					<label class="form-check-label"><input type="radio" name="ISI_1b" value="2"> Moderate</label><br>
                                <label class="form-check-label"><input type="radio" name="ISI_1b" value="3"> Severe</label><br>
                                <label class="form-check-label"><input type="radio" name="ISI_1b" value="4"> Very Severe</label><br>
                            </ul>
        				</div>
                        <div class="col-12 q__ID">c. Problem waking up too early</div>
        				<div class=col-12>
                            <ul>
            					<label class="form-check-label"><input type="radio" name="ISI_1c" value="0" required > None</label><br>
            					<label class="form-check-label"><input type="radio" name="ISI_1c" value="1"> Mild</label><br>
            					<label class="form-check-label"><input type="radio" name="ISI_1c" value="2"> Moderate</label><br>
                                <label class="form-check-label"><input type="radio" name="ISI_1c" value="3"> Severe</label><br>
                                <label class="form-check-label"><input type="radio" name="ISI_1c" value="4"> Very Severe</label><br>
                            </ul>
        				</div>
                </ul>
			</div>
			<div class="row row__ID">
				<div class="col-12 q__ID">2. How SATISFIED/DISSATISFIED are you with your CURRENT sleep pattern?</div>
				<div class=col-12>
                    <ul>
    					<label class="form-check-label"><input type="radio" name="ISI_2" value="0" required > Very Satisfied</label><br>
    					<label class="form-check-label"><input type="radio" name="ISI_2" value="1"> Satisfied</label><br>
    					<label class="form-check-label"><input type="radio" name="ISI_2" value="2"> Neutral</label><br>
                        <label class="form-check-label"><input type="radio" name="ISI_2" value="3"> Dissatisfied</label><br>
                        <label class="form-check-label"><input type="radio" name="ISI_2" value="4"> Very Dissatisfied</label><br>
                    </ul>
				</div>
			</div>
            <div class="row row__ID">
				<div class="col-12 q__ID">3. To what extent do you consider your sleep problem to INTERFERE with your daily functioning (e.g. daytime fatigue, mood, ability to function at work/daily chores, concentration, memory, mood, etc.) CURRENTLY?</div>
				<div class=col-12>
                    <ul>
    					<label class="form-check-label"><input type="radio" name="ISI_3" value="0" required > Not at all Interfering</label><br>
    					<label class="form-check-label"><input type="radio" name="ISI_3" value="1"> A Little</label><br>
    					<label class="form-check-label"><input type="radio" name="ISI_3" value="2"> Somewhat</label><br>
                        <label class="form-check-label"><input type="radio" name="ISI_3" value="3"> Much</label><br>
                        <label class="form-check-label"><input type="radio" name="ISI_3" value="4"> Very Much Interfering</label><br>
                    </ul>
				</div>
			</div>
            <div class="row row__ID">
				<div class="col-12 q__ID">4.How NOTICEABLE to others do you think your sleep problem is in terms of impairing the quality of your life?</div>
				<div class=col-12>
                    <ul>
    					<label class="form-check-label"><input type="radio" name="ISI_4" value="0" required > Not at all Noticeable</label><br>
    					<label class="form-check-label"><input type="radio" name="ISI_4" value="1"> A Little</label><br>
    					<label class="form-check-label"><input type="radio" name="ISI_4" value="2"> Somewhat</label><br>
                        <label class="form-check-label"><input type="radio" name="ISI_4" value="3"> Much</label><br>
                        <label class="form-check-label"><input type="radio" name="ISI_4" value="4"> Very Much Noticeable</label><br>
                    </ul>
				</div>
			</div>
            <div class="row row__ID">
				<div class="col-12 q__ID">5. How WORRIED/DISTRESSED are you about your current sleep problem?</div>
				<div class=col-12>
                    <ul>
    					<label class="form-check-label"><input type="radio" name="ISI_5" value="0" required > Not at all Worried</label><br>
    					<label class="form-check-label"><input type="radio" name="ISI_5" value="1"> A Little</label><br>
    					<label class="form-check-label"><input type="radio" name="ISI_5" value="2"> Somewhat</label><br>
                        <label class="form-check-label"><input type="radio" name="ISI_5" value="3"> Much</label><br>
                        <label class="form-check-label"><input type="radio" name="ISI_5" value="4"> Very Much Worried</label><br>
                    </ul>
				</div>
			</div>
			<br>
			<button id=submit__ID type="submit" class="btn btn-secondary">Submit</button>
		</div>
	</form>
</section>
<script>
	function F__ID(){
        //-------------------------------------
        $('#D__ID').on('load',function(){
            $('#F__ID')[0].reset();
            $('#submit__ID').show();
			var record=$vm.vm['__ID'].op.record;
			$vm.deserialize(record,'#F__ID');
        })
        //-------------------------------------
		$('#F__ID').submit(function(event){
			//--------------------------------------------------------
			event.preventDefault();
			$('#submit__ID').hide();
			//--------------------------------------------------------
            var data=$vm.serialize('#F__ID'); var dbv={}
            _before_submit(data,dbv);
			//--------------------------------------------------------
            var db_pid=$vm.module_list[$vm.vm['__ID'].name].table_id;
            var rid=undefined; if($vm.vm['__ID'].op.record!=undefined) rid=$vm.vm['__ID'].op.record.ID;
            var req={cmd:"add_json_record_s2",db_pid:db_pid,data:data,dbv:dbv};
			if(rid!=undefined) req={cmd:"modify_json_record_s2",rid:rid,db_pid:db_pid,data:data,dbv:dbv};
            $VmAPI.request({data:req,callback:function(res){
                $vm.refresh=1;
                if(rid!=undefined) window.history.go(-1);
                else $vm.alert('Your data has been successfully submitted');
            }});
			//--------------------------------------------------------
		})
		//--------------------------------------------------------
        var _before_submit=function(record,dbv){
            record.ISI=(parseInt(record.ISI_2)+parseInt(record.ISI_3)+parseInt(record.ISI_4)+parseInt(record.ISI_5)+parseInt(record.ISI_1a)+parseInt(record.ISI_1b)+parseInt(record.ISI_1c)).toString();
            record.ISI_1=(parseInt(record.ISI_1a)+parseInt(record.ISI_1b)+parseInt(record.ISI_1c)).toString();
            //-------------------
            var input=$vm.vm['__ID'].op.input; if(input==undefined) input=$vm.vm['__ID'].op
            if(input!=undefined){
                record.Participant    =input.participant;
                record.Participant_uid=input.participant_uid;
            }
            //-------------------
            dbv.PUID=record.Participant_uid;
            dbv.S3=$vm.status_of_data(record);
		}
        //--------------------------------------------------------
	}
</script>
<style>
	#D__ID{
		height:100%;
		overflow: auto;
		animation: vm_module_fadein 1.0s;
		background-color: #fff;
	}
	#form_container__ID{
		padding-top:10px;
		max-width: 800px;
		margin-left: auto;
		margin-right: auto;

		font-family: Verdana,sans-serif;
    	font-size: 15px;
    	line-height: 1.5;
		color: #000;
	}
	#form_container__ID .row__ID{
		padding:6px 0;
	}
    #form_container__ID .row__ID label:hover{
        cursor:pointer;
        background-color: #aaa;
	}
	#form_container__ID .row__ID:hover{
		background-color: #eee;
	}
	#header__ID{
		background-color:#ccc;
		color:#000;
		padding:10px 15px 10px 15px;
		font-size:120%;
        border:1px solid #bbb;
        border-bottom-width: 0;
	}
	#F__ID{
		border:1px solid #bbb;
        border-top-width: 0;
		padding:6px 15px 20px 15px;
	}
	#F__ID label
    	display: inline-block;
    	margin: .6rem 0 .3rem 0;
	}

	#F__ID fieldset {
	    border: 0px solid #c0c0c0;
	    margin: 0;
	    padding: 0;
	}
	.q__ID{
		padding-bottom:6px;
		font-weight:bold;
	}
	@media screen and (max-width:768px){
		#form_container__ID{
			padding:20px 10px 50px 10px;
		}
	}
</style>
