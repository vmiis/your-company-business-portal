<section>
    VmInclude:__PARTS__/toolbar/back_save.html
	<form id=F__ID>
	    <table id=tb__ID style='width:600px;' >
	        <col class=colA style='width:260px' /><col /></colgroup>


          <tr><td colspan=2 class='header__ID'>Hospital Anxiety and Depression Scale (HADS)</td></tr>
          <tr id=tr_participant__ID style='display:none'><td colspan=2 data-id=Participant data-custom=1>
              <input name=Participant  id=Participant__ID  type=text class=sel__ID placeholder='select a partcipant...'/>
              <input name=Participant_uid id=Participant_uid__ID type=text readonly style="width:50px;color:#ccc;" />
              <u style='cursor:pointer;float:right;' id=Participant_r__ID>Remove</u>
          </td></tr>

          <tr><td colspan=2 class='subheader__ID'>Read each item and underline the reply which comes to closest how you have been feeling <b><u><i>in the past week</b></u></i>.  Donâ€™t take too long over your replies; your immediate reaction to each item will probably be more accurate than a long thought out response.</td></tr>

	        <tr><td>1. I feel tense or 'wound up':</td><td data-id=HADS1 data-custom=1>
	            <input type='radio'  name=HADS1 value=3 >Most of the time<br>
	            <input type='radio'  name=HADS1 value=2>A lot of the time<br>
	            <input type='radio'  name=HADS1 value=1>From time to time, occasionally<br>
	            <input type='radio'  name=HADS1 value=0>Not at all<br>
	        </td></tr>
	        <tr><td>2. I still enjoy the things I used to enjoy:</td><td data-id=HADS2 data-custom=1>
	            <input type='radio'  name=HADS2 value=0>Definitely as much<br>
	            <input type='radio'  name=HADS2 value=1>Not quite so much<br>
	            <input type='radio'  name=HADS2 value=2>Only a little<br>
	            <input type='radio'  name=HADS2 value=3>Hardly at all<br>
	        </td></tr>
	        <tr><td>3. I get a sort of frightened feeling as if something awful is about to happen:</td><td data-id=HADS3 data-custom=1>
	            <input type='radio'  name=HADS3 value=3>Very definitely and quite badly<br>
	            <input type='radio'  name=HADS3 value=2>Yes, but not too badly<br>
	            <input type='radio'  name=HADS3 value=1>A little, but it doesn't worry me<br>
	            <input type='radio'  name=HADS3 value=0>Not at all<br>
	        </td></tr>
	        <tr><td>4. I can laugh and see the funny side of things:</td><td data-id=HADS4 data-custom=1>
	            <input type='radio'  name=HADS4 value=0>As much as I always could<br>
	            <input type='radio'  name=HADS4 value=1>Not quite so much now<br>
	            <input type='radio'  name=HADS4 value=2>Definitely not so much now<br>
	            <input type='radio'  name=HADS4 value=3>Not at all<br>
	        </td></tr>
	        <tr><td>5. Worrying thoughts go through my mind:</td><td data-id=HADS5 data-custom=1>
	            <input type='radio'  name=HADS5 value=3>A great deal of the time<br>
	            <input type='radio'  name=HADS5 value=2>A lot of the time<br>
	            <input type='radio'  name=HADS5 value=1>From time to time, but not too often<br>
	            <input type='radio'  name=HADS5 value=0>Only occasionally<br>
	        </td></tr>

	        <tr><td>6. I feel cheerful:</td><td data-id=HADS6 data-custom=1>
	            <input type='radio'  name=HADS6 value=3>Not at all<br>
	            <input type='radio'  name=HADS6 value=2>Not often<br>
	            <input type='radio'  name=HADS6 value=1>Sometimes<br>
	            <input type='radio'  name=HADS6 value=0>Most of the time<br>
	        </td></tr>
	        <tr><td>7. I can sit at ease and feel relaxed:</td><td data-id=HADS7 data-custom=1>
	            <input type='radio'  name=HADS7 value=0>Definitely<br>
	            <input type='radio'  name=HADS7 value=1>Usually<br>
	            <input type='radio'  name=HADS7 value=2>Not Often<br>
	            <input type='radio'  name=HADS7 value=3>Not at all<br>
	        </td></tr>
	        <tr><td>8. I feel as if I am slowed down:</td><td data-id=HADS8 data-custom=1>
	            <input type='radio'  name=HADS8 value=3>Nearly all the time<br>
	            <input type='radio'  name=HADS8 value=2>Very often<br>
	            <input type='radio'  name=HADS8 value=1>Sometimes<br>
	            <input type='radio'  name=HADS8 value=0>Not at all<br>
	        </td></tr>
	        <tr><td>9. I get a sort of frightened feeling like 'butterflies' in the stomach:</td><td data-id=HADS9 data-custom=1>
	            <input type='radio'  name=HADS9 value=0>Not at all<br>
	            <input type='radio'  name=HADS9 value=1>Occasionally<br>
	            <input type='radio'  name=HADS9 value=2>Quite Often<br>
	            <input type='radio'  name=HADS9 value=3>Very Often<br>
	        </td></tr>
	        <tr><td>10. I have lost interest in my appearance:</td><td data-id=HADS10 data-custom=1>
	            <input type='radio'  name=HADS10 value=3>Definitely<br>
	            <input type='radio'  name=HADS10 value=2>I don't take as much care as I should<br>
	            <input type='radio'  name=HADS10 value=1>I may not take quite as much care<br>
	            <input type='radio'  name=HADS10 value=0>I take just as much care as ever<br>
	        </td></tr>
	        <tr><td>11. I feel restless as if I have to be on the move:</td><td data-id=HADS11 data-custom=1>
	            <input type='radio'  name=HADS11 value=3>Very much indeed<br>
	            <input type='radio'  name=HADS11 value=2>Quite a lot<br>
	            <input type='radio'  name=HADS11 value=1>Not very much<br>
	            <input type='radio'  name=HADS11 value=0>Not at all<br>
	        </td></tr>
	        <tr><td>12. I look forward with enjoyment to things:</td><td data-id=HADS12 data-custom=1>
	            <input type='radio'  name=HADS12 value=0>As much as I ever had<br>
	            <input type='radio'  name=HADS12 value=1>Rather less than I used to<br>
	            <input type='radio'  name=HADS12 value=2>Definitely less than I used to<br>
	            <input type='radio'  name=HADS12 value=3>Hardly at all<br>
	        </td></tr>
	        <tr><td>13. I get sudden feelings of panic:</td><td data-id=HADS13 data-custom=1>
	            <input type='radio'  name=HADS13 value=3>Very often indeed<br>
	            <input type='radio'  name=HADS13 value=2>Quite often<br>
	            <input type='radio'  name=HADS13 value=1>Not very often<br>
	            <input type='radio'  name=HADS13 value=0>Not at all<br>
	        </td></tr>
	        <tr><td>14. I can enjoy a good book or radio or TV programme:</td><td data-id=HADS14 data-custom=1>
	            <input type='radio'  name=HADS14 value=0>Often<br>
	            <input type='radio'  name=HADS14 value=1>Sometimes<br>
	            <input type='radio'  name=HADS14 value=2>Not often<br>
	            <input type='radio'  name=HADS14 value=3>Very seldom<br>
	        </td></tr>
	        <tr style='display:none'><td>Anxiety</td><td data-id=HADSA data-custom=1>
	            <input name=HADSA  type=text />
	        </td></tr>
	        <tr style='display:none'><td>Depression</td><td data-id=HADSD data-custom=1>
	            <input name=HADSD  type=text />
	        </td></tr>
	    </table>
	</form>
</section>
<script>
	function F__ID(){
		//----------------------------------
		VmInclude:__COMPONENT__/grid/form.v3.js
		
		VmInclude:__CURRENT_PATH__/task.form.js
		//----------------------------------
		$('#D__ID').on('load',function(){
			_init();
			_field_process();
			_task_fields=$vm.vm['__ID'].op.grid_to_form_parameters.task_fields;
			_set_participant_field();
			custom_field_process();
		})
		//----------------------------------
		var custom_field_process=function(){
			$('#tb__ID td[data-custom=1]').each(function(){
				var field=$(this).attr('data-id');
				switch(field){
					case "Participant":
						$(this).find("input[name='"+field+"']").val(_records[I].Participant);
						$(this).find("input[name='"+field+"_uid']").val(_records[I].Participant_uid);
					break;
					case "HADS1":
					case "HADS2":
					case "HADS3":
					case "HADS4":
          case "HADS5":
          case "HADS6":
          case "HADS7":
          case "HADS8":
          case "HADS9":
          case "HADS10":
          case "HADS11":
          case "HADS12":
          case "HADS13":
          case "HADS14":
          case "HADSA":
          case "HADSD":

						$('#tb__ID').find("input[name='"+field+"'][value='"+_records[I][field]+"']").prop('checked', true);
						$('#tb__ID').find("input[name='"+field+"']").on('click',function(){
							_set_value(this.value,_records,I,field);
						})
					break;
				}
			})
		}
		//----------------------------------
		_before_submit=function(record,dbv){
			return _set_status_and_participant(record,dbv);
		}
		//-------------------------------------
		_before_submit_form=function(){
			if( $('#tb__ID').find('input[name=HADS1]:checked').val()===undefined){ alert("Please answer question 1"); return false; }
			if( $('#tb__ID').find('input[name=HADS2]:checked').val()===undefined){ alert("Please answer question 2"); return false; }
			if( $('#tb__ID').find('input[name=HADS3]:checked').val()===undefined){ alert("Please answer question 3"); return false; }
			if( $('#tb__ID').find('input[name=HADS4]:checked').val()===undefined){ alert("Please answer question 4"); return false; }
			if( $('#tb__ID').find('input[name=HADS5]:checked').val()===undefined){ alert("Please answer question 5"); return false; }
			if( $('#tb__ID').find('input[name=HADS6]:checked').val()===undefined){ alert("Please answer question 6"); return false; }
			if( $('#tb__ID').find('input[name=HADS7]:checked').val()===undefined){ alert("Please answer question 7"); return false; }
      if( $('#tb__ID').find('input[name=HADS8]:checked').val()===undefined){ alert("Please answer question 8"); return false; }
    	if( $('#tb__ID').find('input[name=HADS9]:checked').val()===undefined){ alert("Please answer question 9"); return false; }
      if( $('#tb__ID').find('input[name=HADS10]:checked').val()===undefined){ alert("Please answer question 10"); return false; }
      if( $('#tb__ID').find('input[name=HADS11]:checked').val()===undefined){ alert("Please answer question 11"); return false; }
      if( $('#tb__ID').find('input[name=HADS12]:checked').val()===undefined){ alert("Please answer question 12"); return false; }
      if( $('#tb__ID').find('input[name=HADS13]:checked').val()===undefined){ alert("Please answer question 13"); return false; }
    	if( $('#tb__ID').find('input[name=HADS14]:checked').val()===undefined){ alert("Please answer question 14"); return false; }


			var v2=parseInt($('#tb__ID').find('input[name=HADS1]:checked').val());
			var v3=parseInt($('#tb__ID').find('input[name=HADS2]:checked').val());
			var v4=parseInt($('#tb__ID').find('input[name=HADS3]:checked').val());
			var v5=parseInt($('#tb__ID').find('input[name=HADS4]:checked').val());
			var v6=parseInt($('#tb__ID').find('input[name=HADS5]:checked').val());
			var v7=parseInt($('#tb__ID').find('input[name=HADS6]:checked').val());
			var v8=parseInt($('#tb__ID').find('input[name=HADS7]:checked').val());
      var v9=parseInt($('#tb__ID').find('input[name=HADS8]:checked').val());
      var v10=parseInt($('#tb__ID').find('input[name=HADS9]:checked').val());
      var v11=parseInt($('#tb__ID').find('input[name=HADS10]:checked').val());
      var v12=parseInt($('#tb__ID').find('input[name=HADS11]:checked').val());
      var v13=parseInt($('#tb__ID').find('input[name=HADS12]:checked').val());
      var v14=parseInt($('#tb__ID').find('input[name=HADS13]:checked').val());
      var v15=parseInt($('#tb__ID').find('input[name=HADS14]:checked').val());


			var v16=v2+v4+v6+v8+v10+v12+v14;
			var v17=v3+v5+v7+v9+v11+v13+v15;
			_records[I].HADSA=v16;
			_records[I].HADSD=v17;
			return true;
		}
	}

</script>
<style>
    VmInclude:__PARTS__/toolbar/toolbar.css
    VmInclude:__PARTS__/grid/form.css
    #tb__ID tr td:nth-child(2),
    #tb__ID tr td:nth-child(3),
    #tb__ID tr td:nth-child(4),
    #tb__ID tr td:nth-child(5),
    #tb__ID tr td:nth-child(6)
    {
        text-align: center;
        padding: 5px;
    }

    #header__ID{
      border: 1px solid #000;

    }

    #subheader__ID{
    background-color: #fff;
    }


    .modified_radio__ID {
    	-webkit-appearance: none;
    	-moz-appearance: button;

    	border: 1px solid #000;
    	width:22px;
    	height:26px;

    	padding: 0px;
    	border-radius: 3px;
    	display: inline-block;
    	position: relative;
    	opacity:0.15;
        vertical-align: middle;
    }
    .modified_radio__ID:active, .modified_radio__ID:checked:active {
    }

    .modified_radio__ID:checked {
        -moz-appearance: button;
    	background-color: #554055;
    	border: 1px solid #adb8c0;

    	color: #99a1a7;
    	opacity:0.9;
    }
    .modified_radio__ID:checked:after {
    	font-size: 14px;
    	position: absolute;
    	top: 0px;
    	left: 3px;
    	color: #99a1a7;
    }
    .modified_radio__ID:active, .modified_radio__ID:checked:active {
    	box-shadow: 0 1px 2px rgba(0,0,0,0.05), inset 0px 1px 3px rgba(0,0,0,0.1);
    }
    .modified_number__ID{
        margin-left:-18px;
        font-size:14pt;
        vertical-align:middle;
    }
</style>
