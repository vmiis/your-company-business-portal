<div id=page__ID>
</div>
<script>
	function F__ID(){
        //--------------------------------------------------------
        var url="https://distributed-modules.vmiis.com/examples/ecos.html";
        //--------------------------------------------------------
        var local_url=function(txt){
            if(window.location.hostname=='127.0.0.1' || window.location.hostname=='localhost'){
                txt=txt.replace(/https:\/\/distributed-modules.vmiis.com/g,window.location.protocol+'//'+window.location.host+'/vmiis/distributed-modules');
            }
            return txt;
        }
        //--------------------------------------------------------
        var custom_parser=function(txt,url){
            return txt.replace(/__CURRENT_URL__/g,url);
        }
        //--------------------------------------------------------
        var html_filter=function(code){
            //--------------------------------------------------------
            var allowed_tags=['style','div','form','input','img','name','span','h1','h2','h3','h4','p','hr','i','button','a','b','ul','li','br'];
            var allowed_attrs=['class','type','value','style','id','src'];
            //--------------------------------------------------------
            var $dom=$("<div />").html(code);
            //tag
            var tags=$dom.find("*");
            tags.each(function(){
                var tag=$(this).prop('tagName').toLowerCase();
                if(allowed_tags.includes(tag)==false){
                    $dom.find( this ).remove();
                }
            })
            //attrs and inline style
            var tags=$dom.find("*");
            tags.each(function(){
                var element=$(this);
                $.each(this.attributes, function(i, attrib){
                    if(attrib!=undefined){
                        var name = attrib.name;
                        if(allowed_attrs.includes(name)==false){
                            element.removeAttr(name);
                        }
                    }
                });
            })
            return $dom.html();
        }
        //--------------------------------------------------------
        url=local_url(url);
        $vm.load_module_content(url,function(txt){
            txt=local_url(txt);
            txt=custom_parser(txt,url);
            txt=html_filter(txt);
            $('#page__ID').html(txt);
        });
        //--------------------------------------------------------
	}

</script>
<style>
	#D__ID{
		height:100%;
        overflow:auto;
		animation: vm_module_fadein 1.0s;
	}
	#page__ID{
		height:100%;
		background: rgba(255, 255, 255, 1);
	}
</style>
