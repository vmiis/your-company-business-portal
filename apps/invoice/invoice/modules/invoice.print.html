<section>
    <div id=pvdiv__ID>
        <form id=fm__ID>
            <div id=tbdiv style='padding:20px'>
                <table id=table_form_noborder__ID class=width__ID>
                    <colgroup><col style='width:550px' /><col style='width:100px' /><col /></colgroup>
                    <tr><td  style='font-size:200%' >Wappsystem PTY LTD</td><td colspan=2 style='font-size:300%;'>Tax Invoice</td></tr>
                    <tr><td>27 Creekwood Drive</td><td  style='font-size:150%;' >No.</td><td style='font-size:150%;' ><span id=invoice_number__ID></span></td></tr>
                    <tr><td>Voyager Point NSW 2172</td><td></td><td></td></tr>
                    <tr><td>Email:wappsystem@gmail.com</td><td></td><td></td></tr>
                    <tr><td>ABN: 86152510980</td><td  style='font-weight:bold' >Issue Date</td><td style='font-weight:bold' ><span id=issue_date__ID></span></td></tr>
                    <tr><td>Account Name: Wappsystem Pty Ltd</td><td></td><td></td></tr>
                    <tr><td>BSB: 112-879</td><td></td><td></td></tr>
                    <tr><td>Acount No.: 466817733</td><td></td><td></td></tr>
                    <tr><td>&nbsp;</td><td></td><td></td></tr>
                    <tr><td class=subheader_l__ID>To</td><td></td><td></td></tr>
                    <tr><td><span id=client__ID style='font-size:120%;'></span></td><td></td><td>&nbsp;</td></tr>
                    <tr><td><span id=client_address1__ID></span></td><td></td><td>&nbsp;</td></tr>
                    <tr><td><span id=client_address2__ID></span></td><td></td><td>&nbsp;</td></tr>
                    <tr><td><span id=client_address3__ID></span></td><td></td><td>&nbsp;</td></tr>
                    <tr><td>&nbsp;</td><td></td><td></td></tr>
                    <tr><td>&nbsp;</td><td></td><td></td></tr>
                </table>
                <table id=table_form1__ID  class=width__ID>
                    <colgroup><col style='width:450px' /><col style='width:50px'  /><col style='width:50px'   /><col style='width:120px'   /><col /></colgroup>
                        <tr ><td class=subheader_l__ID >Item/Description</td><td class=subheader_m__ID>GST</td><td class=subheader_m__ID>Qty</td><td class=subheader_r__ID>Unit Price</td><td class=subheader_r__ID>Sub Total</td></tr>
                        <tr><td class=text_l__ID><span id=item_line0__ID></span>&nbsp;</td><td class=text_m__ID><span id=gst_line0__ID></span></td><td class=text_m__ID><span id=qty_line0__ID></span></td><td class=text_r__ID><span id=price_line0__ID></span></td><td class=text_r__ID><span id=total_line0__ID></span></td></tr>
                        <tr><td class=text_l__ID><span id=item_line1__ID></span>&nbsp;</td><td class=text_m__ID><span id=gst_line1__ID></span></td><td class=text_m__ID><span id=qty_line1__ID></span></td><td class=text_r__ID><span id=price_line1__ID></span></td><td class=text_r__ID><span id=total_line1__ID></span></td></tr>
                        <tr><td class=text_l__ID><span id=item_line2__ID></span>&nbsp;</td><td class=text_m__ID><span id=gst_line2__ID></span></td><td class=text_m__ID><span id=qty_line2__ID></span></td><td class=text_r__ID><span id=price_line2__ID></span></td><td class=text_r__ID><span id=total_line2__ID></span></td></tr>
                        <tr><td class=text_l__ID><span id=item_line3__ID></span>&nbsp;</td><td class=text_m__ID><span id=gst_line3__ID></span></td><td class=text_m__ID><span id=qty_line3__ID></span></td><td class=text_r__ID><span id=price_line3__ID></span></td><td class=text_r__ID><span id=total_line3__ID></span></td></tr>
                        <tr><td class=text_l__ID><span id=item_line4__ID></span>&nbsp;</td><td class=text_m__ID><span id=gst_line4__ID></span></td><td class=text_m__ID><span id=qty_line4__ID></span></td><td class=text_r__ID><span id=price_line4__ID></span></td><td class=text_r__ID><span id=total_line4__ID></span></td></tr>
                        <tr><td class=text_l__ID><span id=item_line5__ID></span>&nbsp;</td><td class=text_m__ID><span id=gst_line5__ID></span></td><td class=text_m__ID><span id=qty_line5__ID></span></td><td class=text_r__ID><span id=price_line5__ID></span></td><td class=text_r__ID><span id=total_line5__ID></span></td></tr>
                        <tr><td class=text_l__ID><span id=item_line6__ID></span>&nbsp;</td><td class=text_m__ID><span id=gst_line6__ID></span></td><td class=text_m__ID><span id=qty_line6__ID></span></td><td class=text_r__ID><span id=price_line6__ID></span></td><td class=text_r__ID><span id=total_line6__ID></span></td></tr>
                        <tr><td class=text_l__ID><span id=item_line7__ID></span>&nbsp;</td><td class=text_m__ID><span id=gst_line7__ID></span></td><td class=text_m__ID><span id=qty_line7__ID></span></td><td class=text_r__ID><span id=price_line7__ID></span></td><td class=text_r__ID><span id=total_line7__ID></span></td></tr>
                        <tr><td class=text_l__ID><span id=item_line8__ID></span>&nbsp;</td><td class=text_m__ID><span id=gst_line8__ID></span></td><td class=text_m__ID><span id=qty_line8__ID></span></td><td class=text_r__ID><span id=price_line8__ID></span></td><td class=text_r__ID><span id=total_line8__ID></span></td></tr>
                        <tr><td class=text_l__ID><span id=item_line9__ID></span>&nbsp;</td><td class=text_m__ID><span id=gst_line9__ID></span></td><td class=text_m__ID><span id=qty_line9__ID></span></td><td class=text_r__ID><span id=price_line9__ID></span></td><td class=text_r__ID><span id=total_line9__ID></span></td></tr>
                        <tr><td class=text_l__ID><span id=item_line10__ID></span>&nbsp;</td><td class=text_m__ID><span id=gst_line10__ID></span></td><td class=text_m__ID><span id=qty_line10__ID></span></td><td class=text_r__ID><span id=price_line10__ID></span></td><td class=text_r__ID><span id=total_line10__ID></span></td></tr>
                        <tr><td class=text_l__ID><span id=item_line11__ID></span>&nbsp;</td><td class=text_m__ID><span id=gst_line11__ID></span></td><td class=text_m__ID><span id=qty_line11__ID></span></td><td class=text_r__ID><span id=price_line11__ID></span></td><td class=text_r__ID><span id=total_line11__ID></span></td></tr>
                        <tr><td class=text_l__ID><span id=item_line12__ID></span>&nbsp;</td><td class=text_m__ID><span id=gst_line12__ID></span></td><td class=text_m__ID><span id=qty_line12__ID></span></td><td class=text_r__ID><span id=price_line12__ID></span></td><td class=text_r__ID><span id=total_line12__ID></span></td></tr>
                        <tr><td class=text_l__ID><span id=item_line13__ID></span>&nbsp;</td><td class=text_m__ID><span id=gst_line13__ID></span></td><td class=text_m__ID><span id=qty_line13__ID></span></td><td class=text_r__ID><span id=price_line13__ID></span></td><td class=text_r__ID><span id=total_line13__ID></span></td></tr>
                        <tr><td class=text_l__ID><span id=item_line14__ID></span>&nbsp;</td><td class=text_m__ID><span id=gst_line14__ID></span></td><td class=text_m__ID><span id=qty_line14__ID></span></td><td class=text_r__ID><span id=price_line14__ID></span></td><td class=text_r__ID><span id=total_line14__ID></span></td></tr>
                </table>
                <table class=width__ID>
                    <tr><td  style='font-size:120%;text-align:right' >GST:&nbsp;&nbsp;<span id=gst__ID></span></td></tr>
                    <tr><td  style='font-size:150%;text-align:right' >TOTAL:&nbsp;&nbsp;<span id=total__ID></span></td></tr>
                    <tr><td>&nbsp;</td><td></td></tr>
                    <tr><td style='font-size:120%;text-align:right' >Please pay by<span id=pay_by__ID ></span></td></tr>
                </table>
            </div>
        </form>
    </div>
</section>
<script>
    function F__ID(){
        //---------------------------------------------
    	$('#D__ID').on('load',function(){
            //-----------------------------------------
            //clear
            $('#D__ID span').each(function(){
                $(this).text('');
            })
            //-----------------------------------------
            var record=$vm.vm['__ID'].op.input.record;
            //get invoice
            var prefix=$vm.module_list[$vm.vm['__ID'].name].prefix;
            var invoice_pid=$vm.module_list[prefix+'invoice'].table_id;
            var invoice_uid=record.UID;
            //-----------------------------------------
            $('#invoice_number__ID').text(record.UID);
            if(record.Issue_Date!==undefined) $('#issue_date__ID').text(record.Issue_Date);
            if(record.Due_Date!==undefined) $('#pay_by__ID').text(record.Due_Date);
            //if(record.V12!==undefined) $('#sub_total__ID').text('$'+parseFloat(record.V12).toFixed(2));
            if(record.GST_Amount!==undefined) $('#gst__ID').text('$'+parseFloat(record.GST_Amount).toFixed(2));
            if(record.Total_Amount!==undefined) $('#total__ID').text('$'+parseFloat(record.Total_Amount).toFixed(2));
            //-----------------------------------------
            //items
            var items=record.invoice_items
            for(var i=0;i<items.length;i++){
                if(items[i].Description!==undefined) $('#item_line'+i+'__ID').text(items[i].Description);
                if(items[i].GST!==undefined){
                    if(items[i].GST=='on' || items[i].GST=='1' || items[i].GST===true || items[i].GST=='True') $('#gst_line'+i+'__ID').text('Yes');
                    else $('#gst_line'+i+'__ID').text('No');
                }
                if(items[i].Quantity!==undefined)        $('#qty_line'+i+'__ID').text(items[i].Quantity);
                if(items[i].Unit_Price!==undefined)      $('#price_line'+i+'__ID').text('$'+items[i].Unit_Price);
                if(items[i].Amount!==undefined)          $('#total_line'+i+'__ID').text('$'+parseFloat(items[i].Amount).toFixed(2) );
            }
            //-----------------------------------------
            //get client
            var client_uid=record.PUID;
            var client_pid=$vm.module_list[prefix+'client'].table_id;
            var sql="select Information from [TABLE-"+client_pid+"] where uid="+client_uid;
            var req={cmd:'query_records',sql:sql}
            $VmAPI.request({data:req,callback:function(res){
                var sub_records=res.records;
                if(sub_records.length>0){
                    if(sub_records[0].Business_Name!==undefined) $('#client__ID').text(sub_records[0].Business_Name);
                    if(sub_records[0].Address!==undefined) $('#client_address1__ID').text(sub_records[0].Address);
                    if(sub_records[0].Suburb!==undefined && sub_records[0].Postcode!==undefined && sub_records[0].State!==undefined ) $('#client_address2__ID').text(sub_records[0].Suburb+" "+sub_records[0].State+" "+sub_records[0].Postcode);
                }
            }})
            //-----------------------------------------
    	});
    	//---------------------------------------------
    }
</script>
<style>
    VmInclude:__COMPONENT__/style/default.css
    #D__ID,#D__ID table,#pvdiv__ID table{
        font-size:10pt;
        font-family: Verdana,Helvetica,Arial,sans-serif;;
    }
    .subheader_l__ID{text-align:left!Important;font-size:12px;font-weight:bold;background-color:#aaa;}
    .subheader_m__ID{text-align:center!Important;font-size:12px;font-weight:bold;background-color:#aaa;vertical-align:middle!important;}
    .subheader_r__ID{text-align:right!Important;font-size:12px;font-weight:bold;background-color:#aaa;vertical-align:middle!important;}
    .text_l__ID{text-align:left!Important;vertical-align:middle!important;}
    .text_m__ID{text-align:center!Important;vertical-align:middle!important;}
    .text_r__ID{text-align:right!Important;vertical-align:middle!important;}
    #table_form_noborder__ID {width:100%;font-size:9pt; font-family:Verdana; margin:0; border-spacing:0; border-collapse: collapse; table-layout: auto;}
    #table_form_noborder__ID td{vertical-align:bottom; border: 0 #069 solid; color: #333; border-collapse: collapse; text-align: left; padding: 1px;padding-right:4px;}
    #table_form1__ID {border: 3px #000 solid;font-size:9pt;font-family:Verdana;border-spacing:0;border-collapse: collapse; table-layout: automatic;}
    #table_form1__ID td{ border: 1px #000 solid;}
    #table_form1__ID td:first-child{padding:3px;}
    .item_footer__ID{font-size:9pt; font-family:Verdana;text-align:right;padding-top:3px;padding-right:0px;}
    .width__ID{
        width:800px;
    }
    @media print{
        #content_container_0{
            position:absolute;
            overflow:visible;
        }
        html,body{
            width:100%;
            height:100%;
            overflow:visible;
        }
        #D__ID{
            width:100%;
            height:100px;
            overflow:visible;
        }
        .width__ID{
            width:100%;
        }
        body * {
            visibility: hidden;
        }
        #pvdiv__ID, #pvdiv__ID * {
            visibility: visible;
        }
        /*
        #pvdiv__ID {
            position: absolute;
            left: 0;
            top: 0;
        }
        */
        .c_print {
            display: none;
        }
        .file_buttons{
            display:none;
        }
    }
</style>
