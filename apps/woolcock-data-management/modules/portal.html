<section id=panel__ID>
	<a id=app__ID target=_blank href='apps/woolcock-data-management/'><u>Run as a seperate application </u></a>
    <br>
	<div class='nav__ID'>
		<span>Data management</span>
		<ul>
			<li module=application-data>Cloud applications</li>
			<li module=computer-data>Computers</li>
			<li module=domain-name>Domain names</li>
			<li module=job-request>Job request tracking</li>
			<li module=knowledge-base>Knowledge base</li>
			<li module=nas>NAS</li>
			<li module=printer>Printers</li>
			<li module=ssl>SSL</li>
			<li module=staff>Staff</li>
			<li module=staff-list>Staff phone and room number</li>
			<li module=unikey>UniKeys</li>
			<li module=new-unikey-data>New UniKeys</li>
			<li module=unikey-extension-data>UniKeys extension</li>
		</ul>
		<br>
	</div>
	<div class='nav__ID'>
		<span>Cloud applications</span>
		<ul id=g1__ID>
			<li><a target=_blank href='https://woolcock-imr.github.io/crc-stream-b-extension/'>CRC stream b extension</a></li>
			<li><a target=_blank href='https://cpaphdeeg-online-questionnaire.rt.org.au/'>CPAPHDEEG online questionnaire</a></li>
			<li><a target=_blank href='https://cpaphdeeg.rt.org.au/'>CPAPHDEEG project management</a></li>
			<li><a target=_blank href='https://hdeeg-mci-online-questionnaire.rt.org.au/'>HDEEG-MCI online questionnaire</a></li>
			<li><a target=_blank href='https://hdeeg-mci.rt.org.au/'>HDEEG-MCI project management</a></li>
			<li><a target=_blank href='https://nightstudy-online-questionnaire.rt.org.au/'>Nightstudy online questionnaire</a></li>
			<li><a target=_blank href='https://nightstudy.rt.org.au/'>Nightstudy project management</a></li>
			<br>
			<li><a target=_blank href='https://www.sleepappsurvey.com.au/'>SFIX app survey</a></li>
			<li><a target=_blank href='https://sfix-app-survey-management.rt.org.au/'>SFIX app survey results</a></li>
			<li><a target=_blank href='https://sfix-registration.rt.org.au/'>SFIX registration</a></li>
			<li><a target=_blank href='https://sfix-registration-management.rt.org.au/'>SFIX registration management</a></li>
			<li><a target=_blank href='https://sfix-online-questionnaire.rt.org.au/'>SFIX online questionnaire</a></li>
			<li><a target=_blank href='https://sfix.rt.org.au/'>SFIX project management</a></li>
			<br>
			<li><a target=_blank href='https://volunteer-database.rt.org.au/'>Volunteer database (front end)</a></li>
			<li><a target=_blank href='https://volunteer-database-management.rt.org.au/'>Volunteer database (back end)</a></li>
			<br>
			<li><a target=_blank href='https://www.windfarmstudy.com/'>Windfarm website</a></li>
			<li><a target=_blank href='https://lab-registrations.windfarmstudy.com/'>Lab study registrations</a></li>
			<li><a target=_blank href='https://home-registrations.windfarmstudy.com/'>Home study registrations</a></li>
			<br>
			<li><a target=_blank href='https://woolcock-imr.github.io/windfarm-screening-questionnaire/'>Windfarm lab study screening online questionnaire</a></li>
			<li><a target=_blank href='https://woolcock-imr.github.io/windfarm-lab-study-online-questionnaire/'>Windfarm lab study in-lab online questionnaire</a></li>
			<li><a target=_blank href='https://woolcock-imr.github.io/windfarm-inlab/'>Windfarm lab study data management</a></li>
			<br>
			<li><a target=_blank href='https://windfarm-home-online-questionnaire.rt.org.au/'>Windfarm home study online questionnaire</a></li>
			<li><a target=_blank href='https://windfarm-home.rt.org.au/'>Windfarm home study data management</a></li>
		</ul>
		<!--
		<ul id=g2__ID>
			<li><a target=_blank href='http://127.0.0.1:8000//woolcock-imr/cpaphdeeg-2-online-questionnaire/index.html?database=development'>CPAPHDEEG online questionnaire</a></li>
			<li><a target=_blank href='http://127.0.0.1:8000//woolcock-imr/cpaphdeeg-2/index.html?database=development'>CPAPHDEEG project management</a></li>
			<li><a target=_blank href='http://127.0.0.1:8000//woolcock-imr/hdeeg-mci-2-online-questionnaire/index.html?database=development'>HDEEG-MCI online questionnaire</a></li>
			<li><a target=_blank href='http://127.0.0.1:8000//woolcock-imr/hdeeg-mci-2/index.html?database=development'>HDEEG-MCI project management</a></li>
			<li><a target=_blank href='https://nightstudy-online-questionnaire.rt.org.au/'>Nightstudy online questionnaire</a></li>
			<li><a target=_blank href='https://nightstudy.rt.org.au/'>Nightstudy project management</a></li>
			<li><a target=_blank href='https://sfix-registration.rt.org.au/'>SFIX registration</a></li>
			<li><a target=_blank href='https://sfix-registration-management.rt.org.au/'>SFIX registration management</a></li>
			<li><a target=_blank href='https://sfix-online-questionnaire.rt.org.au/'>SFIX online questionnaire</a></li>
			<li><a target=_blank href='https://sfix.rt.org.au/'>SFIX project management</a></li>
			<li><a target=_blank href='https://volunteer-database.rt.org.au/'>Volunteer database (front end)</a></li>
			<li><a target=_blank href='https://volunteer-database-management.rt.org.au/'>Volunteer database (back end)</a></li>
			<li><a target=_blank href='http://127.0.0.1:8000//woolcock-imr/windfarm-website/index.html?database=development'>Windfarm Website (recruitment)</a></li>
			<li><a target=_blank href='https://windfarm-home-online-questionnaire.rt.org.au/'>Windfarm home study online questionnaire</a></li>
			<li><a target=_blank href='https://windfarm-home.rt.org.au/'>Windfarm home study project management</a></li>
			<li><a target=_blank href='http://127.0.0.1:8000//woolcock-imr/windfarm-recruitment-management/index.html?database=development'>Windfarm lab study recruitment management</a></li>
			<li><a target=_blank href='http://127.0.0.1:8000//woolcock-imr/windfarm-lab-study-screening-online-questionnaire/index.html?database=development'>Windfarm lab study screening online questionnaire</a></li>
			<li><a target=_blank href='http://127.0.0.1:8000//woolcock-imr/windfarm-screening-questionnaire/index.html?database=development'>Windfarm lab study screening project management</a></li>
			<li><a target=_blank href='http://127.0.0.1:8000//woolcock-imr/hdeeg-mci-2/index.html?database=development'>Windfarm lab study online questionnaire</a></li>
			<li><a target=_blank href='http://127.0.0.1:8000//woolcock-imr/windfarm-inlab/index.html?database=development'>Windfarm lab study project management</a></li>
		</ul>
		-->
	</div>
</section>
<script>
    function F__ID(){
    	//--------------------------------------------------------
    	var set_li_text=function(){
    	    $('.nav__ID li').each(function(){
    	        $(this).attr('data-li_text',$(this).text());
    	    })
    	}
    	set_li_text();
    	//---------------------------------------------
    	var clear_counting=function(){
    		$('.nav__ID li').each(function(){
    			var txt=$(this).attr('data-li_text');
    			if(txt!=undefined){
    				$(this).text(txt);
    			}
    		})
    	}
    	//---------------------------------------------
    	var prefix=$vm.module_list[$vm.vm['__ID'].name].prefix; if(prefix==undefined) prefix="";
        //---------------------------------------------
    	$('#panel__ID li').on('click',function(){
    		if( $(this).hasClass( 'not_allowed__ID' )===true){
    		    alert("No permission!");
    		    return;
    		}
    		var m=$(this).attr('module');
    		if(m!=undefined){
    		  if($vm.module_list[prefix+m]==undefined){
    			  alert(prefix+m +" is not in the module list.");
    			  return;
    		  }
    		  $vm.nav_load_module(prefix+m,'',{});
    		}
			var panel=$(this).attr('panel');
			if(panel!=undefined){
				if($vm.module_list[panel]==undefined){
					alert(panel +" is not in the module list.");
					return;
				}
				$vm.nav_load_module(panel);
			}
    	})
    	//--------------------------------------------------------
    	$('#D__ID').on('load',function(){
			/*
			$('#g2__ID').hide();
			if(window.location.hostname=='127.0.0.1' || window.location.hostname=='localhost'){
				$('#g1__ID').hide();
				$('#g2__ID').show();
			}
			*/
    		var pids="";
    		if($vm.server==='production'){
    		  $('.nav__ID li').each(function(index){
    		      var name=$(this).attr('module');
    		      var pid=undefined; if($vm.module_list[prefix+name]!==undefined)  pid=$vm.module_list[prefix+name]['table_id'];
    		      if(pid!==undefined && pid!=='--------'){
    		         if(pids!=="") pids+=",";
    		         pids+=pid;
    		      }
    		  });
    		  if(pids!==""){
    		      $VmAPI.request({data:{cmd:'permissions',pids:pids},callback:function(res){
    		          $('.nav__ID li').each(function(index){
    		              var name=$(this).attr('module');
    					  var pid=undefined; if($vm.module_list[prefix+name]!==undefined)  pid=$vm.module_list[prefix+name]['table_id'];
    		              if(pid!==undefined && pid!=='--------'){
    		                  $(this).removeClass('not_allowed__ID');
    		                  if(res[pid]===undefined){
    		                      $(this).addClass('not_allowed__ID')
    		                  }
    		              }
    		          })
    		      }})
    		  }
    		}
    	})
    	//---------------------------------------------------------------
    	$('#count__ID').on('click',function(){
    		clear_counting();
    		var N=0;
    		$('#panel__ID li').each(function(){
    			var $li=$(this);
    			N++;
    			var m=$li.attr('module');
    			if(m!=undefined){
    				check_count($li,N);
    			}
    		});
    	})
    	//--------------------------------------------------------
    	var check_count=function($li,N){
    		//do not send too many requests to the server in a short period
    		setTimeout(function(){check_count_d($li)}, N*200);
    	}
    	//--------------------------------------------------------
    	var check_count_d=function($li){
    		var m=$li.attr('module');
    		if($vm.module_list[prefix+m]!=undefined){
    			var pid=$vm.module_list[prefix+m].table_id;
    			if(pid!=undefined){
    				var sql="select Num=count(ID) from [TABLE-"+pid+"]";
    				$VmAPI.request({data:{cmd:'query_records',sql:sql},callback:function(res){
    					var num=res.records[0].Num;
    					var txt=$('<div/>').html($li.attr('data-li_text')).text();
    					$li.html(txt+" <mark style='font-size:9px'>["+num+"]</mark>")
    				}})
    			}
    		}
    	}
    	//--------------------------------------------------------
		if(window.location.href.indexOf('/apps/')!=-1) $('#app__ID').hide();
		//--------------------------------------------------------
    }
</script>
<style>
	VmInclude:__PARTS__/navigation/navigation.css
	#D__ID{
		height:100%;
		overflow: auto;
		animation: vm_module_fadein 1.0s;
		background-color:rgba(255,255,255,0.85);
	}
	#panel__ID{
		padding:20px 0 0 20px;
	}
	#D__ID li {
		color:#000;
	}
	li::before{
		font-size: 20px!Important;
	}
	#D__ID li:hover {
		color:#fff;
	}
	#D__ID a {
		text-decoration: none;
	}
	#D__ID a:link {
		color:#000;
	}
	#D__ID a:visited {
		color:#000;
	}
	#D__ID a:hover {
		color:#fff;
	}
	#D__ID a:active {
		color:#000;
	}
	#app__ID u:hover {
		color:red;
	}
	@media screen and (max-width:768px){
		#D__ID{
			padding:10px 0 0 10px;
		}
	}
</style>
