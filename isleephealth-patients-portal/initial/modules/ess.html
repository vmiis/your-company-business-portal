<div id=admin__ID style='display:none'>
    VmInclude:__COMPONENT__/toolbar/form-toolbar.html
</div>
<section id=form_container__ID>
    <div id=header__ID>
		Epworth Sleepiness Scale
	</div>
	<form id=F__ID>
        <div class="container">
            	How likely are you to doze or fall asleep in the following situations, in contrast to just feeling tired? Please answer the questions below in reference to last month. Even if you have not done some of these things recently, try to work out how they would have affected you.<br><br>
                <hr style='border-top:1px solid #727b84;'></hr>
            <div class="row row__ID">
                <div class="col-sm control-group">
                    <span>1. Sitting and reading</span>
                </div>
                <div class="col-sm control-group">
                    <label class="control control-radio">
                            <input type="radio"  name="ESS_1" id=ESS_1__ID required value=0 />
                        <div class="control_indicator"></div>Would <b>never</b> doze
                    </label>
                    <label class="control control-radio">
                            <input type="radio"  name="ESS_1"  value=1 />
                        <div class="control_indicator"></div><b>Slight</b> chance of dozing
                    </label>
                    <label class="control control-radio">
                            <input type="radio"  name="ESS_1"  value=2 />
                        <div class="control_indicator"></div><b>Moderate</b> chance of dozing
                    </label>
                    <label class="control control-radio">
                            <input type="radio"  name="ESS_1"  value=3 />
                        <div class="control_indicator"></div><b>High</b> chance of dozing
                    </label>
                </div>
            </div>
            <hr style='border-top:1px solid #727b84;'></hr>
            <div class="row row__ID">
                <div class="col-sm control-group">
                    <span>2. Watching TV</span>
                </div>
                <div class="col-sm control-group">
                    <label class="control control-radio">
                            <input type="radio"  name="ESS_2" id=ESS_2__ID required value=0 />
                        <div class="control_indicator"></div>Would <b>never</b> doze
                    </label>
                    <label class="control control-radio">
                            <input type="radio"  name="ESS_2"  value=1 />
                        <div class="control_indicator"></div><b>Slight</b> chance of dozing
                    </label>
                    <label class="control control-radio">
                            <input type="radio"  name="ESS_2"  value=2 />
                        <div class="control_indicator"></div><b>Moderate</b> chance of dozing
                    </label>
                    <label class="control control-radio">
                            <input type="radio"  name="ESS_2"  value=3 />
                        <div class="control_indicator"></div><b>High</b> chance of dozing
                    </label>
                </div>
            </div>
            <hr style='border-top:1px solid #727b84;'></hr>
            <div class="row row__ID">
                <div class="col-sm control-group">
                    <span>3. Sitting, inactive in a public place (eg a theatre or a meeting)</span>
                </div>
                <div class="col-sm control-group">
                    <label class="control control-radio">
                            <input type="radio"  name="ESS_3" id=ESS_3__ID required value=0 />
                        <div class="control_indicator"></div>Would <b>never</b> doze
                    </label>
                    <label class="control control-radio">
                            <input type="radio"  name="ESS_3"  value=1 />
                        <div class="control_indicator"></div><b>Slight</b> chance of dozing
                    </label>
                    <label class="control control-radio">
                            <input type="radio"  name="ESS_3"  value=2 />
                        <div class="control_indicator"></div><b>Moderate</b> chance of dozing
                    </label>
                    <label class="control control-radio">
                            <input type="radio"  name="ESS_3"  value=3 />
                        <div class="control_indicator"></div><b>High</b> chance of dozing
                    </label>
                </div>
            </div>
            <hr style='border-top:1px solid #727b84;'></hr>
            <div class="row row__ID">
                <div class="col-sm control-group">
                    <span>4. As a passenger in a car for an hour without a break</span>
                </div>
                <div class="col-sm control-group">
                    <label class="control control-radio">
                            <input type="radio"  name="ESS_4" id=ESS_4__ID required value=0 />
                        <div class="control_indicator"></div>Would <b>never</b> doze
                    </label>
                    <label class="control control-radio">
                            <input type="radio"  name="ESS_4"  value=1 />
                        <div class="control_indicator"></div><b>Slight</b> chance of dozing
                    </label>
                    <label class="control control-radio">
                            <input type="radio"  name="ESS_4"  value=2 />
                        <div class="control_indicator"></div><b>Moderate</b> chance of dozing
                    </label>
                    <label class="control control-radio">
                            <input type="radio"  name="ESS_4"  value=3 />
                        <div class="control_indicator"></div><b>High</b> chance of dozing
                    </label>
                </div>
            </div>
            <hr style='border-top:1px solid #727b84;'></hr>
            <div class="row row__ID">
                <div class="col-sm control-group">
                    <span>5. Lying down to rest in the afternoon when circumstances permit</span>
                </div>
                <div class="col-sm control-group">
                    <label class="control control-radio">
                            <input type="radio"  name="ESS_5" id=ESS_5__ID required value=0 />
                        <div class="control_indicator"></div>Would <b>never</b> doze
                    </label>
                    <label class="control control-radio">
                            <input type="radio"  name="ESS_5"  value=1 />
                        <div class="control_indicator"></div><b>Slight</b> chance of dozing
                    </label>
                    <label class="control control-radio">
                            <input type="radio"  name="ESS_5"  value=2 />
                        <div class="control_indicator"></div><b>Moderate</b> chance of dozing
                    </label>
                    <label class="control control-radio">
                            <input type="radio"  name="ESS_5"  value=3 />
                        <div class="control_indicator"></div><b>High</b> chance of dozing
                    </label>
                </div>
            </div>
            <hr style='border-top:1px solid #727b84;'></hr>
            <div class="row row__ID">
                <div class="col-sm control-group">
                    <span>6. Sitting and talking to someone</span>
                </div>
                <div class="col-sm control-group">
                    <label class="control control-radio">
                            <input type="radio"  name="ESS_6" id=ESS_6__ID required value=0 />
                        <div class="control_indicator"></div>Would <b>never</b> doze
                    </label>
                    <label class="control control-radio">
                            <input type="radio"  name="ESS_6"  value=1 />
                        <div class="control_indicator"></div><b>Slight</b> chance of dozing
                    </label>
                    <label class="control control-radio">
                            <input type="radio"  name="ESS_6"  value=2 />
                        <div class="control_indicator"></div><b>Moderate</b> chance of dozing
                    </label>
                    <label class="control control-radio">
                            <input type="radio"  name="ESS_6"  value=3 />
                        <div class="control_indicator"></div><b>High</b> chance of dozing
                    </label>
                </div>
            </div>
            <hr style='border-top:1px solid #727b84;'></hr>
            <div class="row row__ID">
                <div class="col-sm control-group">
                    <span>7. Sitting quietly after lunch without alcohol</span>
                </div>
                <div class="col-sm control-group">
                    <label class="control control-radio">
                            <input type="radio"  name="ESS_7" id=ESS_7__ID required value=0 />
                        <div class="control_indicator"></div>Would <b>never</b> doze
                    </label>
                    <label class="control control-radio">
                            <input type="radio"  name="ESS_7"  value=1 />
                        <div class="control_indicator"></div><b>Slight</b> chance of dozing
                    </label>
                    <label class="control control-radio">
                            <input type="radio"  name="ESS_7"  value=2 />
                        <div class="control_indicator"></div><b>Moderate</b> chance of dozing
                    </label>
                    <label class="control control-radio">
                            <input type="radio"  name="ESS_7"  value=3 />
                        <div class="control_indicator"></div><b>High</b> chance of dozing
                    </label>
                </div>
            </div>
            <hr style='border-top:1px solid #727b84;'></hr>
            <div class="row row__ID">
                <div class="col-sm control-group">
                    <span>8. In a car, while stopped for a few minutes in traffic</span>
                </div>
                <div class="col-sm control-group">
                    <label class="control control-radio">
                            <input type="radio"  name="ESS_8" id=ESS_8__ID required value=0 />
                        <div class="control_indicator"></div>Would <b>never</b> doze
                    </label>
                    <label class="control control-radio">
                            <input type="radio"  name="ESS_8"  value=1 />
                        <div class="control_indicator"></div><b>Slight</b> chance of dozing
                    </label>
                    <label class="control control-radio">
                            <input type="radio"  name="ESS_8"  value=2 />
                        <div class="control_indicator"></div><b>Moderate</b> chance of dozing
                    </label>
                    <label class="control control-radio">
                            <input type="radio"  name="ESS_8"  value=3 />
                        <div class="control_indicator"></div><b>High</b> chance of dozing
                    </label>
                </div>
            </div>
            <input type="text"  name="ESS" id=ESS__ID style='display:none'/>
            <hr style='border-top:1px solid #727b84;'></hr>
			<br>
    		<button id=submit__ID type="submit" class="btn btn-secondary">Submit</button>
    	</div>
    </form>
</section>
<script>
function F__ID(){
    //-------------------------------------
    $('#D__ID').on('load',function(){
        $('#F__ID')[0].reset();
        $('#F__ID input:checkbox').removeAttr('checked');
        $('#submit__ID').show();
        var record=$vm.vm['__ID'].op.record; if(record==undefined) record=$vm.vm['__ID'].op.input.record;
        if($vm.vm['__ID'].op.input!=undefined && $vm.vm['__ID'].op.input.readonly!=undefined) $('#submit__ID').hide();
        if($vm.vm['__ID'].op.input!=undefined && $vm.vm['__ID'].op.input.admin!=undefined) $('#admin__ID').show();
        $vm.deserialize(record,'#F__ID');
    })
    //-------------------------------------
    $('#F__ID').submit(function(event){
        //--------------------------------------------------------
        event.preventDefault();
        $('#submit__ID').hide();
        //--------------------------------------------------------
        $('#ESS__ID').val(parseInt($('input[name=ESS_1]:checked').val())+parseInt($('input[name=ESS_2]:checked').val())+parseInt($('input[name=ESS_3]:checked').val())+parseInt($('input[name=ESS_4]:checked').val())+parseInt($('input[name=ESS_5]:checked').val())+parseInt($('input[name=ESS_6]:checked').val())+parseInt($('input[name=ESS_7]:checked').val())+parseInt($('input[name=ESS_8]:checked').val()))
        //--------------------------------------------------------
        var data=$vm.serialize('#F__ID'); var dbv={}
        _before_submit(data,dbv);
        //--------------------------------------------------------
        var db_pid=$vm.module_list[$vm.vm['__ID'].name].table_id;
        var rid=undefined; if($vm.vm['__ID'].op.record!=undefined) rid=$vm.vm['__ID'].op.record.ID;
        var req={cmd:"add_json_record_s2",db_pid:db_pid,data:data,dbv:dbv};
        if(rid!=undefined) req={cmd:"modify_json_record_s2",rid:rid,db_pid:db_pid,data:data,dbv:dbv};
        $VmAPI.request({data:req,callback:function(res){
            $vm.refresh=1;
            if(rid!=undefined) window.history.go(-1);
            else if($vm.vm['__ID'].op.input!=undefined && $vm.vm['__ID'].op.input.goback!=undefined) window.history.go(-1);
            else $vm.alert('Your data has been successfully submitted');
        }});
        //--------------------------------------------------------
    })
    //--------------------------------------------------------
    var _before_submit=function(data,dbv){
        if($vm.coq_participant!=undefined){
            data.Participant=$vm.coq_participant;
            data.Participant_uid=$vm.coq_participant_uid;
            dbv.S1=$vm.coq_visit;
            dbv.PPID=$vm.coq_participant_pid;
            dbv.PUID=$vm.coq_participant_uid;
        }
    }
    //--------------------------------------------------------
}
</script>
<style>
    #D__ID{
        height:100%;
        overflow: auto;
        animation: vm_module_fadein 1.0s;
        background: rgba(151,164,181,0.95);
    }
    #form_container__ID{
        padding-top:50px;
        max-width: 800px;
        margin-left: auto;
        margin-right: auto;

        font-family: Verdana,sans-serif;
        font-size: 15px;
        line-height: 1.5;
        color: #000;
    }
    #form_container__ID .row__ID{
        padding:6px 0;
    }
    #form_container__ID .row__ID:hover{
        /*background-color: #727b84;*/
    }
    #header__ID{
        background-color:#727b84;
        color:#000;
        padding:10px 15px 10px 15px;
        font-size:150%;
    }
    #quest__ID{
        padding:5px 5px 5px 5px;
        font-size:120%;
    }
    #F__ID{
        border:1px solid #727b84;
        padding:6px 15px 20px 15px;
    }
    #F__ID label
        display: inline-block;
        margin: .6rem 0 .3rem 0;
    }

    #F__ID fieldset {
        border: 0px solid #c0c0c0;
        margin: 0;
        padding: 0;
    }
    @media screen and (max-width:768px){
        #form_container__ID{
            padding:20px 10px 50px 10px;
        }
    }
    .control {
        font-family: arial;
        display: block;
        position: relative;
        padding-left: 30px;
        margin-bottom: 5px;
        padding-top: 3px;
        cursor: pointer;
        font-size: 16px;
    }
    .control {
        font-family: arial;
        display: block;
        position: relative;
        padding-left: 30px;
        margin-bottom: 5px;
        padding-top: 3px;
        cursor: pointer;
        font-size: 16px;
    }
        .control input {
            position: absolute;
            z-index: -1;
            opacity: 0;
        }
    .control_indicator {
        position: absolute;
        top: 2px;
        left: 0;
        height: 20px;
        width: 20px;
        background: #e6e6e6;
        border: 0px solid #000000;
    }
    .control-radio .control_indicator {
        border-radius: 50%;
    }

    .control:hover input ~ .control_indicator,
    .control input:focus ~ .control_indicator {
        background: #cccccc;
    }

    .control input:checked ~ .control_indicator {
        background: #A51C3D;
    }
    .control:hover input:not([disabled]):checked ~ .control_indicator,
    .control input:checked:focus ~ .control_indicator {
        background: #0e6647d;
    }
    .control input:disabled ~ .control_indicator {
        background: #e6e6e6;
        opacity: 0.6;
        pointer-events: none;
    }
    .control_indicator:after {
        box-sizing: unset;
        content: '';
        position: absolute;
        display: none;
    }
    .control input:checked ~ .control_indicator:after {
        display: block;
    }
    .control-radio .control_indicator:after {
        left: 7px;
        top: 7px;
        height: 0px;
        width: 0px;
        border-radius: 50%;
        background: #ffffff;
    }
    .control-radio input:disabled ~ .control_indicator:after {
        background: #7b7b7b;
    }
</style>
