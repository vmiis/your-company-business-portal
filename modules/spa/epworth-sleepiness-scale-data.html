<!DOCTYPE html>
<!-- module start ------------------------------------------------------------------->
<div id=D__ID>
    <section>
        VmInclude:__COMPONENT__/module/grid.v1.html
    </section>
    <script>
        function F__ID(){
    		//-------------------------------------
            var fields="ESS_1,ESS_2,ESS_3,ESS_4,ESS_5,ESS_6,ESS_7,ESS_8,ESS";
            _fields="_Form,Status|_S3,Notes|_NT,Participant,"+fields+",Submit Date|DateTime,Submitted by|Author,_Delete";
            //-------------------------------------
            VmInclude:__COMPONENT__/module/grid.v1.js
            //-------------------------------------
            var fields="ESS_1,ESS_2,ESS_3,ESS_4,ESS_5,ESS_6,ESS_7,ESS_8,ESS";
            m.fields="_Form,"+fields+",Submit Date|DateTime,Submitted by|Author,_Delete";
            m.form_fields=fields;
            //-------------------------------------
    		m.before_submit=function(record,dbv){
                if(record.ESS_1!='' && record.ESS_2!='' && record.ESS_3!='' && record.ESS_4!='' && record.ESS_5!='' && record.ESS_6!='' && record.ESS_7!='' && record.ESS_8!=''){
                    record.ESS=(parseInt(record.ESS_1)+parseInt(record.ESS_2)+parseInt(record.ESS_3)+parseInt(record.ESS_4)+parseInt(record.ESS_5)+parseInt(record.ESS_6)+parseInt(record.ESS_7)+parseInt(record.ESS_8)).toString();
                }
    			return true
            }
            //-------------------------------------
        }
    </script>
    <style>
        VmInclude:__COMPONENT__/module/grid.v1.css
        /**/
    </style>
</div>
<!-- module end ------------------------------------------------------------------->


<!-- emulate the hosting environment  -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.1/css/bootstrap.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
<script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-3.2.1.min.js"></script>
<script> $vm={};$vm.vm={};$VmAPI={}; </script>
<script src="https://framework.vmiis.com/distribution/vmframework.min.js?v=3"></script>
<script src="https://api.vmiis.com/distribution/vmapi.min.js"></script>
<div id=content></div>
<script>
	//------------------------------------
    $VmAPI.api_base="https://cbs.wappsystem.com/dev/";
    $vm.module_list={
        "ess-data":{"table_id":"20008395","url":"codepen","form_module":"ess-form"},
        "ess-form":{"table_id":"20008395","url":"https://www.vmiis.com/modules/spa/consent-form.html"}
    }
    //------------------------------------
    $vm.init_v3({callback:function(){
        $vm.init_status=1;
        $vm.version=1; $vm.reload="";
        $vm.hosting_path="codepen";
        $vm.url=function(text){ return text.replace(/__COMPONENT__\//g,'https://component.vmiis.com/'); }
        $vm.alert=function(msg){alert(msg)};
        var data=$('#D__ID').html();
        $('#D__ID').remove();
		localStorage.setItem($vm.hosting_path+"-codepen_txt",data);
		localStorage.setItem($vm.hosting_path+"-codepen_ver",$vm.version);
        $vm.root_layout_content_slot="content";
        $vm.load_module_v2('ess-data','',{})
    }})
	//------------------------------------
</script>
<style>
    html,body{
        margin:0;
        padding:0;
        height:100%;
        font-family:Arial;
    }
</style>
