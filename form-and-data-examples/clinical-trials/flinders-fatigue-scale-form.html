<section id=form_container__ID>
	<div id=header__ID>
		Flinders Fatigue Scale
	</div>
	<form id=F__ID>
		<div class="container">
            <div>
                We are interested in the extent that you have felt <b>fatigued</b> (tired, weary, exhausted) over the last
                <b>week</b>. We <b>do not</b> mean feelings of sleepiness (the likelihood of falling asleep). Please circle
                the appropriate response in accordance with your average feelings over the last week.
                <hr style="border-top: 1px solid #888;width: 100%;margin:10px 0">
        	</div>
			<div class="row row__ID">
                <div class="col-12 q__ID">1. Was fatigue a problem for you?</div>
				<div class=col-12>
                    <ul>
    					<label class="form-check-label"><input type="radio" name="FFS_1" value="0" required > Not at all</label><br>
    					<label class="form-check-label"><input type="radio" name="FFS_1" value="1"> </label><br>
    					<label class="form-check-label"><input type="radio" name="FFS_1" value="2"> Moderately</label><br>
                        <label class="form-check-label"><input type="radio" name="FFS_1" value="3"> </label><br>
                        <label class="form-check-label"><input type="radio" name="FFS_1" value="4"> Extremely</label><br>
                    </ul>
				</div>
			</div>
			<div class="row row__ID">
				<div class="col-12 q__ID">2. Did fatigue cause problems with your everyday functioning (e.g., work, social, family)?</div>
				<div class=col-12>
                    <ul>
                        <label class="form-check-label"><input type="radio" name="FFS_2" value="0" required > Not at all</label><br>
    					<label class="form-check-label"><input type="radio" name="FFS_2" value="1"> </label><br>
    					<label class="form-check-label"><input type="radio" name="FFS_2" value="2"> Moderately</label><br>
                        <label class="form-check-label"><input type="radio" name="FFS_2" value="3"> </label><br>
                        <label class="form-check-label"><input type="radio" name="FFS_2" value="4"> Extremely</label><br>
                    </ul>
				</div>
			</div>
            <div class="row row__ID">
				<div class="col-12 q__ID">3. Did fatigue cause you distress?</div>
				<div class=col-12>
                    <ul>
                        <label class="form-check-label"><input type="radio" name="FFS_3" value="0" required > Not at all</label><br>
    					<label class="form-check-label"><input type="radio" name="FFS_3" value="1"> </label><br>
    					<label class="form-check-label"><input type="radio" name="FFS_3" value="2"> Moderately</label><br>
                        <label class="form-check-label"><input type="radio" name="FFS_3" value="3"> </label><br>
                        <label class="form-check-label"><input type="radio" name="FFS_3" value="4"> Extremely</label><br>
                    </ul>
				</div>
			</div>
            <div class="row row__ID">
				<div class="col-12 q__ID">4. How often did you suffer from fatigue?</div>
				<div class=col-12>
                    <ul>
                        <label class="form-check-label"><input type="radio" name="FFS_4" value="0" required > 0 days/week</label><br>
    					<label class="form-check-label"><input type="radio" name="FFS_4" value="1"> 1-2 days/week</label><br>
    					<label class="form-check-label"><input type="radio" name="FFS_4" value="2"> 3-4 days/week</label><br>
                        <label class="form-check-label"><input type="radio" name="FFS_4" value="3"> 5-6 days/week</label><br>
                        <label class="form-check-label"><input type="radio" name="FFS_4" value="3"> 7 days/week</label><br>
                    </ul>
				</div>
			</div>
            <div class="row row__ID">
				<div class="col-12 q__ID">5. At what time(s) of the day did you typically experience fatigue? (Please tick box(es))</div>
				<div class=col-12>
                    <ul>
                        <label class="form-check-label"><input type="checkbox" name="FFS_5_em"> Early Morning</label><br>
    					<label class="form-check-label"><input type="checkbox" name="FFS_5_mm"> Mid morning</label><br>
    					<label class="form-check-label"><input type="checkbox" name="FFS_5_m"> Midday</label><br>
                        <label class="form-check-label"><input type="checkbox" name="FFS_5_ma"> Mid afternoon</label><br>
                        <label class="form-check-label"><input type="checkbox" name="FFS_5_la"> Late afternoon</label><br>
                        <label class="form-check-label"><input type="checkbox" name="FFS_5_ee"> Early evening</label><br>
                        <label class="form-check-label"><input type="checkbox" name="FFS_5_le"> Late evening</label><br>
                    </ul>
				</div>
			</div>
            <div class="row row__ID">
				<div class="col-12 q__ID">6. How severe was the fatigue you experienced?</div>
				<div class=col-12>
                    <ul>
                        <label class="form-check-label"><input type="radio" name="FFS_6" value="0" required > Not at all</label><br>
    					<label class="form-check-label"><input type="radio" name="FFS_6" value="1"> </label><br>
    					<label class="form-check-label"><input type="radio" name="FFS_6" value="2"> Moderately</label><br>
                        <label class="form-check-label"><input type="radio" name="FFS_6" value="3"> </label><br>
                        <label class="form-check-label"><input type="radio" name="FFS_6" value="4"> Extremely</label><br>
                    </ul>
				</div>
			</div>
            <div class="row row__ID">
				<div class="col-12 q__ID">7. How much was your fatigue caused by poor sleep?</div>
				<div class=col-12>
                    <ul>
                        <label class="form-check-label"><input type="radio" name="FFS_7" value="0" required > Not at all</label><br>
    					<label class="form-check-label"><input type="radio" name="FFS_7" value="1"> </label><br>
    					<label class="form-check-label"><input type="radio" name="FFS_7" value="2"> Moderately</label><br>
                        <label class="form-check-label"><input type="radio" name="FFS_7" value="3"> </label><br>
                        <label class="form-check-label"><input type="radio" name="FFS_7" value="4"> Extremely</label><br>
                    </ul>
				</div>
			</div>
			<br>
			<button id=submit__ID type="submit" class="btn btn-secondary">Submit</button>
		</div>
	</form>
</section>
<script>
	function F__ID(){
        //-------------------------------------
        $('#D__ID').on('load',function(){
            $('#F__ID')[0].reset();
            $('#F__ID input:checkbox').removeAttr('checked');
            $('#submit__ID').show();
			var record=$vm.vm['__ID'].op.record;
			$vm.deserialize(record,'#F__ID');
        })
        //-------------------------------------
		$('#F__ID').submit(function(event){
			//--------------------------------------------------------
			event.preventDefault();
			$('#submit__ID').hide();
			//--------------------------------------------------------
            var data=$vm.serialize('#F__ID'); var dbv={}
            _before_submit(data,dbv);
			//--------------------------------------------------------
            var db_pid=$vm.module_list[$vm.vm['__ID'].name].table_id;
            var rid=undefined; if($vm.vm['__ID'].op.record!=undefined) rid=$vm.vm['__ID'].op.record.ID;
            var req={cmd:"add_json_record_s2",db_pid:db_pid,data:data,dbv:dbv};
			if(rid!=undefined) req={cmd:"modify_json_record_s2",rid:rid,db_pid:db_pid,data:data,dbv:dbv};
            $VmAPI.request({data:req,callback:function(res){
                $vm.refresh=1;
                if(rid!=undefined) window.history.go(-1);
                else $vm.alert('Your data has been successfully submitted');
            }});
			//--------------------------------------------------------
		})
		//--------------------------------------------------------
        var _before_submit=function(record,dbv){
            var ffs5=0;
            if(record.FFS_5_em=='on') ++ffs5;
            if(record.FFS_5_mm=='on') ++ffs5;
            if(record.FFS_5_m=='on')  ++ffs5;
            if(record.FFS_5_ma=='on') ++ffs5;
            if(record.FFS_5_la=='on') ++ffs5;
            if(record.FFS_5_ee=='on') ++ffs5;
            if(record.FFS_5_le=='on') ++ffs5;
            record.FFS=(ffs5+parseInt(record.FFS_1)+parseInt(record.FFS_2)+parseInt(record.FFS_3)+parseInt(record.FFS_4)+parseInt(record.FFS_6)+parseInt(record.FFS_7)).toString();
            //-------------------
            var input=$vm.vm['__ID'].op.input; if(input==undefined) input=$vm.vm['__ID'].op
            if(input!=undefined){
                record.Participant    =input.participant;
                record.Participant_uid=input.participant_uid;
            }
            //-------------------
            dbv.PUID=record.Participant_uid;
            dbv.S3=$vm.status_of_data(record);
		}
        //--------------------------------------------------------
	}
</script>
<style>
	#D__ID{
		height:100%;
		overflow: auto;
		animation: vm_module_fadein 1.0s;
		background-color: #fff;
	}
	#form_container__ID{
		padding-top:10px;
		max-width: 850px;
		margin-left: auto;
		margin-right: auto;

		font-family: Verdana,sans-serif;
    	font-size: 15px;
    	line-height: 1.5;
		color: #000;
	}
	#form_container__ID .row__ID{
		padding:6px 0;
	}
    #form_container__ID .row__ID label:hover{
        cursor:pointer;
        background-color: #aaa;
	}
	#form_container__ID .row__ID:hover{
		background-color: #eee;
	}
	#header__ID{
		background-color:#ccc;
		color:#000;
		padding:10px 15px 10px 15px;
		font-size:120%;
        border:1px solid #bbb;
        border-bottom-width: 0;
	}
	#F__ID{
		border:1px solid #bbb;
        border-top-width: 0;
		padding:6px 15px 20px 15px;
	}
	#F__ID label
    	display: inline-block;
    	margin: .6rem 0 .3rem 0;
	}

	#F__ID fieldset {
	    border: 0px solid #c0c0c0;
	    margin: 0;
	    padding: 0;
	}
	.q__ID{
		padding-bottom:6px;
		font-weight:bold;
	}
	@media screen and (max-width:768px){
		#form_container__ID{
			padding:20px 10px 50px 10px;
		}
	}
</style>
