<section id=form_container__ID>
	<div id=header__ID>
		Epworth Sleepiness Scale
	</div>
	<form id=F__ID>
		<div class="container">
            <div class="row">
                How likely are you to doze or fall asleep in the following situations, in contrast to just feeling tired?
                This refers to your usual way of life in recent times. Even if you have not done some of these things recently,
                try to work out how they would have affected you.
                <hr style="border-top: 1px solid #888;width: 100%;margin:10px 0">
        	</div>
			<div class="row row__ID">
                <div class="col-12 q__ID">1. Sitting and reading</div>
				<div class=col-12>
                    <ul>
    					<label class="form-check-label"><input type="radio" name="ESS_1" value="0" required > Would <b>never</b> doze</label><br>
    					<label class="form-check-label"><input type="radio" name="ESS_1" value="1"> <b>Slight</b> chance of dozing</label><br>
    					<label class="form-check-label"><input type="radio" name="ESS_1" value="2"> <b>Moderate</b> chance of dozing</label><br>
                        <label class="form-check-label"><input type="radio" name="ESS_1" value="3"> <b>High</b> chance of dozing</label><br>
                    </ul>
				</div>
			</div>
			<div class="row row__ID">
				<div class="col-12 q__ID">2. Watching TV</div>
				<div class=col-12>
                    <ul>
                        <label class="form-check-label"><input type="radio" name="ESS_2" value="0" required > Would <b>never</b> doze</label><br>
    					<label class="form-check-label"><input type="radio" name="ESS_2" value="1"> <b>Slight</b> chance of dozing</label><br>
    					<label class="form-check-label"><input type="radio" name="ESS_2" value="2"> <b>Moderate</b> chance of dozing</label><br>
                        <label class="form-check-label"><input type="radio" name="ESS_2" value="3"> <b>High</b> chance of dozing</label><br>
                    </ul>
				</div>
			</div>
            <div class="row row__ID">
				<div class="col-12 q__ID">3. Sitting, inactive in a public place (eg a theatre or a meeting)</div>
				<div class=col-12>
                    <ul>
                        <label class="form-check-label"><input type="radio" name="ESS_3" value="0" required > Would <b>never</b> doze</label><br>
    					<label class="form-check-label"><input type="radio" name="ESS_3" value="1"> <b>Slight</b> chance of dozing</label><br>
    					<label class="form-check-label"><input type="radio" name="ESS_3" value="2"> <b>Moderate</b> chance of dozing</label><br>
                        <label class="form-check-label"><input type="radio" name="ESS_3" value="3"> <b>High</b> chance of dozing</label><br>
                    </ul>
				</div>
			</div>
            <div class="row row__ID">
				<div class="col-12 q__ID">4. As a passenger in a car for an hour without a break</div>
				<div class=col-12>
                    <ul>
                        <label class="form-check-label"><input type="radio" name="ESS_4" value="0" required > Would <b>never</b> doze</label><br>
    					<label class="form-check-label"><input type="radio" name="ESS_4" value="1"> <b>Slight</b> chance of dozing</label><br>
    					<label class="form-check-label"><input type="radio" name="ESS_4" value="2"> <b>Moderate</b> chance of dozing</label><br>
                        <label class="form-check-label"><input type="radio" name="ESS_4" value="3"> <b>High</b> chance of dozing</label><br>
                    </ul>
				</div>
			</div>
            <div class="row row__ID">
				<div class="col-12 q__ID">5. Lying down to rest in the afternoon when circumstances permit</div>
				<div class=col-12>
                    <ul>
                        <label class="form-check-label"><input type="radio" name="ESS_5" value="0" required > Would <b>never</b> doze</label><br>
    					<label class="form-check-label"><input type="radio" name="ESS_5" value="1"> <b>Slight</b> chance of dozing</label><br>
    					<label class="form-check-label"><input type="radio" name="ESS_5" value="2"> <b>Moderate</b> chance of dozing</label><br>
                        <label class="form-check-label"><input type="radio" name="ESS_5" value="3"> <b>High</b> chance of dozing</label><br>
                    </ul>
				</div>
			</div>
            <div class="row row__ID">
				<div class="col-12 q__ID">6. Sitting and talking to someone</div>
				<div class=col-12>
                    <ul>
                        <label class="form-check-label"><input type="radio" name="ESS_6" value="0" required > Would <b>never</b> doze</label><br>
    					<label class="form-check-label"><input type="radio" name="ESS_6" value="1"> <b>Slight</b> chance of dozing</label><br>
    					<label class="form-check-label"><input type="radio" name="ESS_6" value="2"> <b>Moderate</b> chance of dozing</label><br>
                        <label class="form-check-label"><input type="radio" name="ESS_6" value="3"> <b>High</b> chance of dozing</label><br>
                    </ul>
				</div>
			</div>
            <div class="row row__ID">
				<div class="col-12 q__ID">7. Sitting quietly after lunch without alcohol</div>
				<div class=col-12>
                    <ul>
                        <label class="form-check-label"><input type="radio" name="ESS_7" value="0" required > Would <b>never</b> doze</label><br>
    					<label class="form-check-label"><input type="radio" name="ESS_7" value="1"> <b>Slight</b> chance of dozing</label><br>
    					<label class="form-check-label"><input type="radio" name="ESS_7" value="2"> <b>Moderate</b> chance of dozing</label><br>
                        <label class="form-check-label"><input type="radio" name="ESS_7" value="3"> <b>High</b> chance of dozing</label><br>
                    </ul>
				</div>
			</div>
            <div class="row row__ID">
				<div class="col-12 q__ID">8. In a car, while stopped for a few minutes in traffic</div>
				<div class=col-12>
                    <ul>
                        <label class="form-check-label"><input type="radio" name="ESS_8" value="0" required > Would <b>never</b> doze</label><br>
    					<label class="form-check-label"><input type="radio" name="ESS_8" value="1"> <b>Slight</b> chance of dozing</label><br>
    					<label class="form-check-label"><input type="radio" name="ESS_8" value="2"> <b>Moderate</b> chance of dozing</label><br>
                        <label class="form-check-label"><input type="radio" name="ESS_8" value="3"> <b>High</b> chance of dozing</label><br>
                    </ul>
				</div>
			</div>
			<br>
			<button id=submit__ID type="submit" class="btn btn-secondary">Submit</button>
		</div>
	</form>
</section>
<script>
	function F__ID(){
        //-------------------------------------
        $('#D__ID').on('load',function(){
            $('#F__ID')[0].reset();
            $('#submit__ID').show();
			var record=$vm.vm['__ID'].op.record;
			$vm.deserialize(record,'#F__ID');
        })
        //-------------------------------------
		$('#F__ID').submit(function(event){
			//--------------------------------------------------------
			event.preventDefault();
			$('#submit__ID').hide();
			//--------------------------------------------------------
            var data=$vm.serialize('#F__ID'); var dbv={}
            _before_submit(data,dbv);
			//--------------------------------------------------------
            var db_pid=$vm.module_list[$vm.vm['__ID'].name].table_id;
            var rid=undefined; if($vm.vm['__ID'].op.record!=undefined) rid=$vm.vm['__ID'].op.record.ID;
            var req={cmd:"add_json_record_s2",db_pid:db_pid,data:data,dbv:dbv};
			if(rid!=undefined) req={cmd:"modify_json_record_s2",rid:rid,db_pid:db_pid,data:data,dbv:dbv};
            $VmAPI.request({data:req,callback:function(res){
                $vm.refresh=1;
                if(rid!=undefined) window.history.go(-1);
                else $vm.alert('Your data has been successfully submitted');
            }});
			//--------------------------------------------------------
		})
		//--------------------------------------------------------
        var _before_submit=function(record,dbv){
            if(record.ESS_1!='' && record.ESS_2!='' && record.ESS_3!='' && record.ESS_4!='' && record.ESS_5!='' && record.ESS_6!='' && record.ESS_7!='' && record.ESS_8!=''){
                record.ESS=(parseInt(record.ESS_1)+parseInt(record.ESS_2)+parseInt(record.ESS_3)+parseInt(record.ESS_4)+parseInt(record.ESS_5)+parseInt(record.ESS_6)+parseInt(record.ESS_7)+parseInt(record.ESS_8)).toString();
            }
            //-------------------
            var input=$vm.vm['__ID'].op.input; if(input==undefined) input=$vm.vm['__ID'].op
            if(input!=undefined){
                record.Participant    =input.participant;
                record.Participant_uid=input.participant_uid;
            }
            //-------------------
            dbv.PUID=record.Participant_uid;
            dbv.S3=$vm.status_of_data(record);
		}
        //--------------------------------------------------------
	}
</script>
<style>
	#D__ID{
		height:100%;
		overflow: auto;
		animation: vm_module_fadein 1.0s;
		background-color: #fff;
	}
	#form_container__ID{
		padding-top:10px;
		max-width: 650px;
		margin-left: auto;
		margin-right: auto;

		font-family: Verdana,sans-serif;
    	font-size: 15px;
    	line-height: 1.5;
		color: #000;
	}
	#form_container__ID .row__ID{
		padding:6px 0;
	}
    #form_container__ID .row__ID label:hover{
        cursor:pointer;
        background-color: #aaa;
	}
	#form_container__ID .row__ID:hover{
		background-color: #eee;
	}
	#header__ID{
		background-color:#ccc;
		color:#000;
		padding:10px 15px 10px 15px;
		font-size:120%;
        border:1px solid #bbb;
        border-bottom-width: 0;
	}
	#F__ID{
		border:1px solid #bbb;
        border-top-width: 0;
		padding:6px 15px 20px 15px;
	}
	#F__ID label
    	display: inline-block;
    	margin: .6rem 0 .3rem 0;
	}

	#F__ID fieldset {
	    border: 0px solid #c0c0c0;
	    margin: 0;
	    padding: 0;
	}
	.q__ID{
		padding-bottom:6px;
		font-weight:bold;
	}
	@media screen and (max-width:768px){
		#form_container__ID{
			padding:20px 10px 50px 10px;
		}
	}
</style>
